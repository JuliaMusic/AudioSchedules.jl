<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interface · AudioSchedules.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">AudioSchedules.jl</span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Interface</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interface</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/bramtayl/AudioSchedules.jl/blob/master/docs/src/index.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Interface-1"><a class="docs-heading-anchor" href="#Interface-1">Interface</a><a class="docs-heading-anchor-permalink" href="#Interface-1" title="Permalink"></a></h1><ul><li><a href="#AudioSchedules.AudioSchedule-Tuple{}"><code>AudioSchedules.AudioSchedule</code></a></li><li><a href="#AudioSchedules.Cycles"><code>AudioSchedules.Cycles</code></a></li><li><a href="#AudioSchedules.Envelope"><code>AudioSchedules.Envelope</code></a></li><li><a href="#AudioSchedules.Line"><code>AudioSchedules.Line</code></a></li><li><a href="#AudioSchedules.Plan-Tuple{AudioSchedule,Any}"><code>AudioSchedules.Plan</code></a></li><li><a href="#AudioSchedules.StrictMap"><code>AudioSchedules.StrictMap</code></a></li><li><a href="#AudioSchedules.equal_loudness-Tuple{StrictMap{#s30,Tuple{Cycles}} where #s30}"><code>AudioSchedules.equal_loudness</code></a></li><li><a href="#AudioSchedules.extrema!-Tuple{Plan}"><code>AudioSchedules.extrema!</code></a></li><li><a href="#AudioSchedules.get_duration"><code>AudioSchedules.get_duration</code></a></li><li><a href="#AudioSchedules.make_iterator"><code>AudioSchedules.make_iterator</code></a></li><li><a href="#AudioSchedules.plan_within-Tuple{AudioSchedule,Any}"><code>AudioSchedules.plan_within</code></a></li><li><a href="#AudioSchedules.repeat!-Tuple{AudioSchedule,Any,Any,Any,Any}"><code>AudioSchedules.repeat!</code></a></li><li><a href="#AudioSchedules.schedule!"><code>AudioSchedules.schedule!</code></a></li><li><a href="#AudioSchedules.@q_str-Tuple{AbstractString}"><code>AudioSchedules.@q_str</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.AudioSchedule-Tuple{}" href="#AudioSchedules.AudioSchedule-Tuple{}"><code>AudioSchedules.AudioSchedule</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">AudioSchedule(the_sample_rate)</code></pre><p>Create an <code>AudioSchedule</code>.</p><pre><code class="language-julia-repl">julia&gt; using AudioSchedules

julia&gt; using Unitful: s, Hz

julia&gt; audio_schedule = AudioSchedule();</code></pre><p>Add a synthesizer to the schedule with <a href="#AudioSchedules.schedule!"><code>schedule!</code></a>.</p><pre><code class="language-julia-repl">julia&gt; envelope = Envelope((0, 0.25, 0), (0.05s, 0.95s), (Line, Line));

julia&gt; schedule!(audio_schedule, StrictMap(sin, Cycles(440Hz)), 0s, envelope)

julia&gt; schedule!(audio_schedule, StrictMap(sin, Cycles(550Hz)), 1s, 1s)</code></pre><p>Then, you can create a <code>SampledSource</code> from the schedule using <a href="#AudioSchedules.Plan-Tuple{AudioSchedule,Any}"><code>Plan</code></a>.</p><pre><code class="language-julia-repl">julia&gt; plan = Plan(audio_schedule, 44100Hz);</code></pre><p>You can find the number of samples in a <code>Plan</code> with length.</p><pre><code class="language-julia-repl">julia&gt; the_length = length(plan)
88200</code></pre><p>You can use the plan as a source for samples.</p><pre><code class="language-julia-repl">julia&gt; read(plan, the_length);</code></pre><p>You can&#39;t plan an empty schedule</p><pre><code class="language-julia-repl">julia&gt; Plan(AudioSchedule(), 44100Hz)
ERROR: The schedule was empty
[...]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L423-L472">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.Cycles" href="#AudioSchedules.Cycles"><code>AudioSchedules.Cycles</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Cycles(frequency)</code></pre><p>Cycles from 0 to 2π to repeat at a <code>frequency</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L223-L227">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.Envelope" href="#AudioSchedules.Envelope"><code>AudioSchedules.Envelope</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Envelope(levels, durations, shapes)</code></pre><p>Shapes are all functions which return synthesizers:</p><pre><code class="language-none">shape(start_value, end_value, duration) -&gt; synthesizer</code></pre><p><code>durations</code> and <code>levels</code> list the time and level of the boundaries of segments of the envelope. For example,</p><pre><code class="language-none">Envelope([0.0, 1.0, 1.0, 0.0], [.05 s, 0.9 s, 0.05 s], [Line, Line, Line])</code></pre><p>will create an envelope with three segments:</p><pre><code class="language-none">Line(0.0, 1.0, 0.05 s)
Line(1.0, 1.0, 0.9 s)
Line(1.0, 0.0, 0.05 s)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L239-L262">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.Line" href="#AudioSchedules.Line"><code>AudioSchedules.Line</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Line(start_value, end_value, duration)</code></pre><p>A line from <code>start_value</code> to <code>end_value</code> that lasts for <code>duration</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L182-L186">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.Plan-Tuple{AudioSchedule,Any}" href="#AudioSchedules.Plan-Tuple{AudioSchedule,Any}"><code>AudioSchedules.Plan</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Plan(audio_schedule::AudioSchedule)</code></pre><p>Return a <code>SampledSource</code> for the <code>audio_schedule</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L604-L608">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.StrictMap" href="#AudioSchedules.StrictMap"><code>AudioSchedules.StrictMap</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">StrictMap(a_function, synthesizers...)</code></pre><p>Map <code>a_function</code> over <code>synthesizers</code>, assuming that none of the <code>synthesizers</code> will end before they are scheduled to.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L146-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.equal_loudness-Tuple{StrictMap{#s30,Tuple{Cycles}} where #s30}" href="#AudioSchedules.equal_loudness-Tuple{StrictMap{#s30,Tuple{Cycles}} where #s30}"><code>AudioSchedules.equal_loudness</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">equal_loudness(synthesizer::StrictMap{&lt;:Any, Tuple{Cycles}})</code></pre><p>Change the volume of a synthesizer so that sounds played at different frequencies will have the same perceived volume. Assumes that the map function has a period of 2π.</p><pre><code class="language-julia-repl">julia&gt; using AudioSchedules

julia&gt; using Unitful: Hz

julia&gt; soft = equal_loudness(StrictMap(cos, Cycles(10000Hz)));

julia&gt; first(make_iterator(soft, 44100Hz)) ≈ 0.0053035474
true</code></pre><p>Technical details: uses the ISO 226:2003 curve for 40 phons. Scales output by a ratio of the equivalent sound pressure at the current frequency to the equivalent sound pressure at 20Hz (about as low as humans can hear).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/equal_loudness.jl#L111-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.extrema!-Tuple{Plan}" href="#AudioSchedules.extrema!-Tuple{Plan}"><code>AudioSchedules.extrema!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">extrema!(plan::Plan)</code></pre><p>Find the extrema of a plan. This will consume the plan.</p><pre><code class="language-julia-repl">julia&gt; using AudioSchedules

julia&gt; using Unitful: s, Hz

julia&gt; audio_schedule = AudioSchedule();

julia&gt; schedule!(audio_schedule, StrictMap(sin, Cycles(440Hz)), 0s, Envelope((1, 1), (1s,), (Line,)))

julia&gt; extrema!(Plan(audio_schedule, 44100Hz)) .≈ (-0.99999974, 0.99999974)
(true, true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L342-L359">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.get_duration" href="#AudioSchedules.get_duration"><code>AudioSchedules.get_duration</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">get_duration(synthesizer)</code></pre><p>Get the duration of a synthesizer in seconds, for synthesizers with an inherent length. Note that the synthesizer cannot end during the duration (which means there must be one more sample at the end of the duration).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L46-L52">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.make_iterator" href="#AudioSchedules.make_iterator"><code>AudioSchedules.make_iterator</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">make_iterator(synthesizer, the_sample_rate)</code></pre><p>Return an iterator that will the play the <code>synthesizer</code> at <code>the_sample_rate</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L82-L86">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.plan_within-Tuple{AudioSchedule,Any}" href="#AudioSchedules.plan_within-Tuple{AudioSchedule,Any}"><code>AudioSchedules.plan_within</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">plan_within(audio_schedule::AudioSchedule, the_sample_rate; maximum_volume = 1.0)</code></pre><p>Make a plan, then adjust the volume to <code>maximum_volume</code>.</p><pre><code class="language-julia-repl">julia&gt; using AudioSchedules

julia&gt; using Unitful: s, Hz

julia&gt; audio_schedule = AudioSchedule();

julia&gt; note = StrictMap(sin, Cycles(440Hz)), 0s, Envelope((1, 1), (1s,), (Line,));

julia&gt; schedule!(audio_schedule, note...); schedule!(audio_schedule, note...)

julia&gt; plan = plan_within(audio_schedule, 44100Hz);

julia&gt; extrema!(plan) .≈ (-1.0, 1.0)
(true, true)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L644-L665">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.repeat!-Tuple{AudioSchedule,Any,Any,Any,Any}" href="#AudioSchedules.repeat!-Tuple{AudioSchedule,Any,Any,Any,Any}"><code>AudioSchedules.repeat!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">function repeat!(audio_schedule::AudioSchedule, synthesizer, start_time, gap, count)</code></pre><p>Repeat the <code>synthesizer</code>, starting at <code>start_time</code>, <code>count</code> times, with <code>gap</code> time between each repeat.</p><pre><code class="language-julia-repl">julia&gt; using AudioSchedules

julia&gt; using Unitful: Hz, s

julia&gt; using FileIO: load

julia&gt; import LibSndFile

julia&gt; audio_schedule = AudioSchedule();

julia&gt; cd(joinpath(pkgdir(AudioSchedules), &quot;test&quot;))

julia&gt; repeat!(audio_schedule, load(&quot;clunk.wav&quot;), 0s, 1s, 5)

julia&gt; plan = Plan(audio_schedule, 44100Hz);

julia&gt; read(plan, length(plan));</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L531-L556">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.schedule!" href="#AudioSchedules.schedule!"><code>AudioSchedules.schedule!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">schedule!(audio_schedule::AudioSchedule, synthesizer, start_time, duration = get_duration(synthesizer))
schedule!(audio_schedule::AudioSchedule, synthesizer, start_time, envelope::Envelope)</code></pre><p>Schedule an audio synthesizer to be added to the <code>audio_schedule</code>, starting at <code>start_time</code> with <code>duration</code>, or with duration contained in an <a href="#AudioSchedules.Envelope"><code>Envelope</code></a>. If no duration is given, use <a href="#AudioSchedules.get_duration"><code>get_duration</code></a> to determine a duration.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L477-L484">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AudioSchedules.@q_str-Tuple{AbstractString}" href="#AudioSchedules.@q_str-Tuple{AbstractString}"><code>AudioSchedules.@q_str</code></a> — <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">q&quot;interval&quot;</code></pre><p>Create a musical interval. You can specify a numerator (which defaults to 1) and denominator (which defaults to 1) and an octave shift (which defaults to 0).</p><pre><code class="language-julia-repl">julia&gt; using AudioSchedules

julia&gt; q&quot;1&quot;
1//1

julia&gt; q&quot;3/2&quot;
3//2

julia&gt; q&quot;2/3o1&quot;
4//3

julia&gt; q&quot;2/3o-1&quot;
1//3

julia&gt; q&quot;o2&quot;
4//1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/bramtayl/AudioSchedules.jl/blob/8893db63a62ad73f0eec525e1129635638d56ff7/src/AudioSchedules.jl#L688-L712">source</a></section></article></article></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 9 June 2020 18:26">Tuesday 9 June 2020</span>. Using Julia version 1.3.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
